"use strict";const documentation=[{icon:"ðŸš€",title:"Getting Started",description:"Quick start guide with prerequisites, installation, and your first cache operations in ASP.NET Core.",link:"https://github.com/leonibr/glacial-cache/tree/main/docs/getting-started.md",excerpt:"Install GlacialCache.PostgreSQL via NuGet, register it in Program.cs, and start using IDistributedCache for durable, cross-instance caching."},{icon:"ðŸ’¡",title:"Core Concepts",description:"Understanding the data model, expiration behavior, cleanup strategy, and how GlacialCache compares to other solutions.",link:"https://github.com/leonibr/glacial-cache/tree/main/docs/concepts.md",excerpt:"Learn about absolute and sliding expiration, PostgreSQL schema design, automatic cleanup, and when to choose GlacialCache."},{icon:"âš™ï¸",title:"Configuration",description:"Complete reference for GlacialCachePostgreSQLOptions including connection, cache, maintenance, resilience, and Azure settings.",link:"https://github.com/leonibr/glacial-cache/tree/main/docs/configuration.md",excerpt:"Configure connection pooling, expiration defaults, cleanup intervals, retry policies, circuit breakers, and Azure Managed Identity."},{icon:"ðŸ—ï¸",title:"Architecture",description:"System design internals covering components, request flow, background maintenance, and manager election.",link:"https://github.com/leonibr/glacial-cache/tree/main/docs/architecture.md",excerpt:"Deep dive into how GlacialCache handles connection pooling, resilience patterns, background cleanup, and multi-instance coordination."},{icon:"ðŸ”§",title:"Troubleshooting",description:"Common issues and solutions for connection problems, schema issues, performance tuning, and Azure diagnostics.",link:"https://github.com/leonibr/glacial-cache/tree/main/docs/troubleshooting.md",excerpt:"Diagnose and fix connectivity issues, permission errors, cleanup problems, locking conflicts, and Azure Managed Identity challenges."},{icon:"ðŸ“¦",title:"Examples",description:"Runnable code samples showing basic usage, advanced patterns, MemoryPack serialization, and Web API integration.",link:"https://github.com/leonibr/glacial-cache/tree/main/examples",excerpt:"Explore working examples including console apps, ASP.NET Core Web APIs, custom serializers, and Docker Compose setups."}],releases=[{version:"v1.0.0",date:"2025-01-15",description:"Initial release of GlacialCache.PostgreSQL with full IDistributedCache support, background cleanup, manager election, and Azure Managed Identity integration.",highlights:["Drop-in IDistributedCache implementation","Automatic schema creation and management","Background cleanup with configurable intervals","Manager election for multi-instance deployments","Azure Managed Identity support","Resilience patterns (retry, circuit breaker, timeout)","MemoryPack and JSON serialization options","Comprehensive logging and diagnostics"]}];function initHeroCarousel(){if("undefined"==typeof Swiper)return void console.warn("Swiper.js not loaded");document.querySelector(".hero-carousel")&&new Swiper(".hero-carousel",{loop:!0,autoplay:{delay:6e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},speed:600,effect:"slide",navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0,dynamicBullets:!1},breakpoints:{320:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:1,spaceBetween:30}},a11y:{prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",paginationBulletMessage:"Go to slide {{index}}"}})}function initDocumentation(){const e=document.getElementById("doc-content");if(!e)return;const t=documentation.map(e=>`\n        <div class="col-lg-4 col-md-6 mb-4 d-flex">\n          <div class="doc-card h-100">\n              <h3 class="doc-card-title">\n                  <span>${e.icon}</span>\n                  ${e.title}\n              </h3>\n              <p class="doc-card-description">${e.description}</p>\n              <p class="doc-card-description" style="font-size: 0.875rem; font-style: italic;">${e.excerpt}</p>\n              <a href="${e.link}" class="doc-card-link" target="_blank" rel="noopener">\n                  Read More â†’\n              </a>\n          </div>\n        </div>\n    `).join("");e.innerHTML=t}function initReleases(){const e=document.getElementById("releases-content");if(!e)return;const t=releases.map(e=>{let t=e.description;if("undefined"!=typeof marked&&marked.parse)try{t=marked.parse(e.description,{breaks:!0,gfm:!0})}catch(t){console.warn("Failed to parse markdown for release",e.version,t)}return`\n        <div class="release-card">\n            <div class="release-header">\n                <span class="release-version">${e.version}</span>\n                <span class="release-date">${formatDate(e.date)}</span>\n            </div>\n            <div class="release-description">${t}</div>\n            ${e.highlights?`\n                <ul style="margin-top: 1rem; padding-left: 1.5rem; color: var(--color-text-light);">\n                    ${e.highlights.map(e=>`<li style="margin-bottom: 0.5rem;">${e}</li>`).join("")}\n                </ul>\n            `:""}\n        </div>\n    `}).join("");e.innerHTML=t}function formatDate(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}function initSmoothScroll(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){const t=this.getAttribute("href");if("#"===t)return;e.preventDefault();const n=document.querySelector(t);if(n){const e=80,t=n.getBoundingClientRect().top+window.pageYOffset-e;window.scrollTo({top:t,behavior:"smooth"})}})})}function initMobileMenu(){document.querySelector(".nav")}function initTabs(){const e=document.querySelectorAll(".tab-button"),t=document.querySelectorAll(".tab-panel");0!==e.length&&0!==t.length&&e.forEach(n=>{n.addEventListener("click",()=>{const i=n.getAttribute("data-tab");e.forEach(e=>{e.classList.remove("active"),e.setAttribute("aria-selected","false")}),t.forEach(e=>{e.classList.remove("active")}),n.classList.add("active"),n.setAttribute("aria-selected","true");const o=document.getElementById(`tab-${i}`);o&&o.classList.add("active"),trackEvent("Tab","switch",i)})})}function initCodeCopy(){document.querySelectorAll(".code-block, .code-preview").forEach(e=>{const t=document.createElement("button");t.className="code-copy-btn",t.innerHTML="ðŸ“‹ Copy",t.setAttribute("aria-label","Copy code to clipboard"),t.style.cssText="\n      position: absolute;\n      top: 0.5rem;\n      right: 0.5rem;\n      background: var(--color-primary);\n      color: white;\n      border: none;\n      padding: 0.5rem 1rem;\n      border-radius: 0.25rem;\n      cursor: pointer;\n      font-size: 0.875rem;\n      font-weight: 600;\n      opacity: 0;\n      transition: opacity 0.3s ease;\n    ";const n=e.parentElement||e;let i;"static"===getComputedStyle(n).position&&(n.style.position="relative");const o=()=>{clearTimeout(i),t.style.opacity="1"},a=()=>{clearTimeout(i),i=setTimeout(()=>{t.classList.contains("copied")||(t.style.opacity="0")},300)};e.addEventListener("mouseenter",o),e.addEventListener("mouseleave",a),t.addEventListener("mouseenter",o),t.addEventListener("mouseleave",a),t.addEventListener("click",async()=>{const n=e.querySelector("code");if(!n)return;const i=n.textContent||"";try{await navigator.clipboard.writeText(i),t.innerHTML="âœ… Copied!",t.classList.add("copied"),trackEvent("Code","copy","success"),setTimeout(()=>{t.innerHTML="ðŸ“‹ Copy",t.classList.remove("copied"),t.style.opacity="0"},2e3)}catch(e){console.error("Failed to copy code:",e),t.innerHTML="âŒ Failed",trackEvent("Code","copy","error"),setTimeout(()=>{t.innerHTML="ðŸ“‹ Copy"},2e3)}}),n.appendChild(t)})}function initMobileMenu(){document.querySelector(".nav")}async function fetchGitHubReleases(){try{const e=await fetch("https://api.github.com/repos/leonibr/glacial-cache/releases");if(!e.ok)throw new Error("Failed to fetch releases");return(await e.json()).slice(0,3).map(e=>({version:e.tag_name,date:e.published_at.split("T")[0],description:e.body||"No description available.",highlights:null}))}catch(e){throw console.warn("Could not fetch GitHub releases:",e),e}}function showReleasesError(){const e=document.getElementById("releases-content");e&&(e.innerHTML='\n    <div class="release-error-card">\n      <div class="error-content">\n        <div class="error-icon">\n          <i class="fas fa-exclamation-triangle"></i>\n        </div>\n        <h3 class="error-title">Unable to Load Release Notes</h3>\n        <p class="error-message">\n          We couldn\'t load the latest release information right now. Please visit our GitHub releases page to see all updates and changes.\n        </p>\n        <a\n          href="https://github.com/leonibr/glacial-cache/releases"\n          class="btn btn-primary"\n          target="_blank"\n          rel="noopener"\n        >\n          <i class="fab fa-github me-2"></i>View All Releases on GitHub\n        </a>\n      </div>\n    </div>\n  ')}function trackEvent(e,t,n){console.log("Event:",e,t,n)}function initScrollAnimations(){const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.style.opacity="1",e.target.style.transform="translateY(0)")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll(".feature-card, .doc-card, .release-card").forEach(t=>{t.style.opacity="0",t.style.transform="translateY(20px)",t.style.transition="opacity 0.6s ease, transform 0.6s ease",e.observe(t)})}document.addEventListener("DOMContentLoaded",()=>{"undefined"!=typeof hljs&&hljs.highlightAll(),initHeroCarousel(),initDocumentation(),initReleases(),initSmoothScroll(),initMobileMenu(),initTabs(),initCodeCopy()}),(async()=>{try{const e=await fetchGitHubReleases();e.length>0&&(releases.length=0,releases.push(...e),initReleases())}catch(e){console.warn("Failed to load GitHub releases, showing error message:",e),showReleasesError()}})(),document.addEventListener("click",e=>{const t=e.target.closest(".btn-primary, .btn-secondary");if(t){trackEvent("CTA","click",t.textContent.trim())}}),window.addEventListener("load",()=>{initScrollAnimations()}),"serviceWorker"in navigator&&window.addEventListener("load",()=>{}),"undefined"!=typeof module&&module.exports&&(module.exports={documentation:documentation,releases:releases,fetchGitHubReleases:fetchGitHubReleases});